import{C as o,r}from"./stimulus-helpers-d189GC1Y-1.js";import{f as s,c as d}from"./helpers-AnDMAI8W-1.js";import{E as a}from"./ez-base-controller-CGJ-YSBe-1.js";import"./performance-helpers-DpsuwFL7-1.js";import"./js-Cz0CWeBA-1.js";import"./init-user-BlDnuGFC-1.js";class w extends a{constructor(){super(...arguments),this.initAds=()=>{this.initImageAds(),window.innerWidth>1100&&this.initVideoAds(),window.freestar.queue.push(()=>{window.freestar.trackPageview()})},this.initImageAds=()=>{const i=[...document.getElementsByClassName("freestar-ad-zone")],e=[];i.forEach(t=>{e.push({placementName:t.getAttribute("id")||"",slotId:t.getAttribute("id")||""})}),window.freestar.queue.push(()=>{s("ads_defer")?setTimeout(()=>{requestAnimationFrame(()=>{window.freestar.newAdSlots(e)})},1e3):window.freestar.newAdSlots(e)})},this.initVideoAds=()=>{[...document.getElementsByClassName("freestar-video-ad-zone")].forEach(e=>{const t=e.getAttribute("id")||"";window.freestar.queue.push(()=>{s("ads_defer")?setTimeout(()=>{requestAnimationFrame(()=>{window.freestar.newVideo(t)})},1e3):window.freestar.newVideo(t)})})},this.resetAds=()=>{window.freestar.queue.push(()=>{window.freestar.deleteAdSlots()}),this.disconnect(),this.connect()}}connect(){window.addEventListener("turbo:load",this.initAds),window.addEventListener("turbo:before-visit",this.resetAds)}disconnect(){window.removeEventListener("turbo:load",this.initAds),window.removeEventListener("turbo:before-visit",this.resetAds)}}class m extends o{constructor(){super(...arguments),this.minWindowWidth=1400,this.init=()=>{requestIdleCallback(()=>{this.showStickyAd()&&window.freestar.queue.push(()=>{window.freestar.newStickyFooter()})})}}connect(){document.documentElement.addEventListener("turbo:load",this.init)}disconnect(){document.documentElement.removeEventListener("turbo:load",this.init)}destroyElement(){this.element.remove()}showStickyAd(){return d()>=this.minWindowWidth}}r([["ads-main",w],["sticky-ad-container",m]]);
