var m=Object.defineProperty;var l=(i,s,e)=>s in i?m(i,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[s]=e;var t=(i,s,e)=>l(i,typeof s!="symbol"?s+"":s,e);import{_ as o}from"./preload-helper-cYIQMxwj-1.js";import{C as d,r as c}from"./stimulus-helpers-d189GC1Y-1.js";import{b as p}from"./plan-helpers-BFxqJo3H-1.js";import{s as a,aA as h,d as u,t as _,aB as E,f as g}from"./tracking-Lad8KHcD-1.js";import{a as n}from"./js-Cz0CWeBA-1.js";import{E as f}from"./ez-base-controller-CGJ-YSBe-1.js";import"./performance-helpers-DpsuwFL7-1.js";import"./helpers-AnDMAI8W-1.js";import"./init-user-BlDnuGFC-1.js";class r extends d{constructor(){super(...arguments);t(this,"dismiss",e=>{e.preventDefault(),e.stopPropagation(),this.setDismissedCookie(),this.element.remove()})}connect(){this.setupSessionBanner(),this.cookieValue&&a({element:this.element,data:{action:h,label:"Plan-Unlimited Annual Universal",non_interaction:!0}})}trackDiscount(){const e=p({plans:[this.planValue]});a({data:{action:u,items:e}}),_({action:E,category:g(this.element),label:"Plan-Unlimited Annual Universal"})}setDismissedCookie(){if(this.cookieValue==="annual_cart_abandonment")return;const e=this.hasDismissExpiresValue?{domain:this.cookieDomain,expires:this.dismissExpiresValue}:{domain:this.cookieDomain};this.element.dataset.dismissSessionId||n.set(`${this.slugValue}_banner_dismissed`,"internal",e)}get cookieDomain(){const e=window.location.hostname.split(".");return`${e[1]}.${e[2]}`}setupSessionBanner(){const e=this.element.dataset.dismissSessionId;e&&sessionStorage.getItem(e)!=="1"&&this.element.classList.remove("is-hidden")}setSessionCookie(){const e=this.element.dataset.dismissSessionId;sessionStorage.setItem(e,"1")}removeBannerCookie(){n.remove(this.cookieValue)}}t(r,"values",{slug:String,dismissExpires:Number,cookie:String,plan:Object});class k extends f{connect(){this.element.classList.contains("ez-flash-message--auto-dismiss")&&o(()=>import("./dom-slider-DcvZbv1f-1.js"),[],import.meta.url).then(()=>{this.slideUp=window.domSlider.slideUp,setTimeout(()=>{this.dismiss()},3e3)}),this.flagLoaded()}dismiss(){this.slideUp({element:this.element})}}c([["site-banner",r],["flash-message",k],["teams-nag",o(()=>import("./teams-nag-controller-Bxxb6V1r-1.js"),[],import.meta.url)],["language-switcher",o(()=>import("./language-switcher-controller-BBh5ILz5-1.js"),[],import.meta.url)]]);
